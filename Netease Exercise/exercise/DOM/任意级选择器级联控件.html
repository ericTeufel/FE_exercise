<!DOCTYPE html>
<html lang="en">
<head>
  <title></title>
  <meta charset="utf-8">
</head>
<body>
  <form name="l">
    <select name="l1">
      <option>1</option>
    </select>
    <select name="l2">
      <option>2</option>
    </select>
    <select name="l3">
      <option>3</option>
    </select>
  </form>
  <script type="text/javascript">
    var data=[
    {text:'1',value:'1',list:[
        {text:'1-1',value:'1.1',list:[
            {text:'1-1-1',value:'1.1.1',list:[]},
            {text:'1-1-2',value:'1.1.2',list:[]},
            {text:'1-1-3',value:'1.1.3',list:[]}]},
        {text:'1-2',value:'1.2',list:[
            {text:'1-2-1',value:'1.2.1',list:[]},
            {text:'1-2-2',value:'1.2.2',list:[]},
            {text:'1-2-3',value:'1.2.3',list:[]}]},
        {text:'1-3',value:'1.3',list:[
            {text:'1-3-1',value:'1.3.1',list:[]},
            {text:'1-3-2',value:'1.3.2',list:[]},
            {text:'1-3-3',value:'1.3.3',list:[]}]}
      ]},
    {text:'2',value:'2',list:[
        {text:'2-1',value:'2.1',list:[
            {text:'2-1-1',value:'2.1.1',list:[]},
            {text:'2-1-2',value:'2.1.2',list:[]},
            {text:'2-1-3',value:'2.1.3',list:[]}]},
        {text:'2-2',value:'2.2',list:[
            {text:'2-2-1',value:'2.2.1',list:[]},
            {text:'2-2-2',value:'2.2.2',list:[]},
            {text:'2-2-3',value:'2.2.3',list:[]}]},
        {text:'2-3',value:'2.3',list:[
            {text:'2-3-1',value:'2.3.1',list:[]},
            {text:'2-3-2',value:'2.3.2',list:[]},
            {text:'2-3-3',value:'2.3.3',list:[]}]}
      ]},
    {text:'3',value:'3',list:[
        {text:'3-1',value:'3.1',list:[
            {text:'3-1-1',value:'3.1.1',list:[]},
            {text:'3-1-2',value:'3.1.2',list:[]},
            {text:'3-1-3',value:'3.1.3',list:[]}]},
        {text:'3-2',value:'3.2',list:[
            {text:'3-2-1',value:'3.2.1',list:[]},
            {text:'3-2-2',value:'3.2.2',list:[]},
            {text:'3-2-3',value:'3.2.3',list:[]}]},
        {text:'3-3',value:'3.3',list:[
            {text:'3-3-1',value:'3.3.1',list:[]},
            {text:'3-3-2',value:'3.3.2',list:[]},
            {text:'3-3-3',value:'3.3.3',list:[]}]}
      ]}
    ];
// console.log(data.length);
function cascade(selectList,data){
    //取出并赋值第一级菜单
    // fillSelect(selectList[0],data);
    // fillSelect(selectList[1],data[1].list);
    // fillSelect(selectList[2],data[0].list);
    // console.log(data[2].list[0].list[0])
    var selectData = [];
    for (var i = 0; i < selectList.length; i++) {
        for (var j = 0; j < i; j++) {
            selectData = data[0].list;
        }
        fillSelect(selectList[i],selectData);
        selectList[i].addEventListener('change', function(event){
            var target = event.target.value;
            var reg = /\d+/g;
            var arr = target.match(reg);
            console.log(arr);






        });
    }
}
function fillSelect(select,list){
 for(var i=select.length-1;i>0;i--){
            select.remove(i);
        }
     list.forEach(function(data){
        var option = new Option(data.text,data.value);
        select.add(option);
     });
}
var form = document.forms.l;
var selectList = [form.l1,form.l2,form.l3];
cascade(selectList,data);
    </script>
  </body>
  </html>
